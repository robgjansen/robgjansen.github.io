<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="http://jekyllrb.com" version="3.2.1">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2020-03-16T09:39:20-04:00</updated><id>/</id><title>robgjansen.com</title><subtitle>Rob's personal website.</subtitle><author><name>Rob G. Jansen</name><email>rob.g.jansen@nrl.navy.mil</email></author><entry><title>Introducing PrivCount, a Distributed System for Safely Measuring Tor</title><link href="/blog/2016/10/23/introducing-privcount-for-safely-measuring-tor/" rel="alternate" type="text/html" title="Introducing PrivCount, a Distributed System for Safely Measuring Tor" /><published>2016-10-23T00:00:00-04:00</published><updated>2016-10-23T00:00:00-04:00</updated><id>/blog/2016/10/23/introducing-privcount-for-safely-measuring-tor</id><content type="html" xml:base="/blog/2016/10/23/introducing-privcount-for-safely-measuring-tor/">&lt;p&gt;I’m pleased to introduce some new work on developing better techniques and systems for safely measuring the Tor anonymous communication network. This work was done together with my colleague &lt;a href=&quot;http://ohmygodel.com/&quot;&gt;Aaron Johnson&lt;/a&gt;, and a related paper entitled &lt;a href=&quot;/publications/privcount-ccs2016.pdf&quot;&gt;Safely Measuring Tor&lt;/a&gt; will be published in the proceedings of &lt;a href=&quot;https://www.sigsac.org/ccs/CCS2016/accepted-papers/&quot;&gt;the 23rd ACM Conference on Computer and Communication Security (CCS 2016)&lt;/a&gt; (I’ll be presenting it at the conference later this week). A bibtex citation for our paper is:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;@inproceedings{privcount-ccs2016,
  author = {Rob Jansen and Aaron Johnson},
  title = {Safely Measuring Tor},
  booktitle = {Proceedings of the 23rd ACM Conference on Computer and Communications Security (CCS '16)},
  year = {2016},
  publisher = {ACM}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;In this post, I will summarize our work and provide some additional perspectives not found in the paper.&lt;/p&gt;

&lt;h1 id=&quot;summary&quot;&gt;Summary&lt;/h1&gt;

&lt;p&gt;We designed a new system for measuring Tor called PrivCount (extending the &lt;a href=&quot;http://discovery.ucl.ac.uk/1463996/1/Elahi%20et%20al.%20PrivEx%20.pdf&quot;&gt;PrivEx-S2 protocol of Elahi &lt;em&gt;et. al.&lt;/em&gt;&lt;/a&gt;), implemented and released it as &lt;a href=&quot;https://github.com/privcount/privcount&quot;&gt;open source software on github&lt;/a&gt;, and deployed it across 7 Tor relays, 6 operators, and 4 countries. We then used our deployment to safely collect and publish various differentially private network statistics that may be useful for modeling purposes. To briefly highlight our results, we found that during an average 10 minute period, Tor has 550,000 active of 710,000 total users connecting from unique IP addresses, and that bytes associated with web ports constitute 91% of all bytes exiting Tor (up from about 42% in 2010).&lt;/p&gt;

&lt;h1 id=&quot;why-should-we-measure-tor&quot;&gt;Why should we measure Tor?&lt;/h1&gt;

&lt;p&gt;Data allows us to create a more secure and usable network. Analyzing real network measurement data is one of the best ways to understand how a network or system functions. This understanding allows researchers and developers to make informed decisions about how to tune existing algorithms, how to develop new algorithms to mitigate performance and security problems, and how to determine if new algorithms are working properly. It may also help to identify when the network is under attack or when certain participants are misbehaving. Without data, much of this becomes difficult and some of it impossible.&lt;/p&gt;

&lt;p&gt;Usage data can also help the Tor project and the Tor community focus their effort and resources on important use cases, to make sure that Tor is accessible and usable for everyone. As an example, consider Tor pluggable transports: a modular architecture that is used to provide censorship resistant communication. The pluggable transport ecosystem includes bridge relays that help clients connect to the rest of the network and various protocols that obfuscate traffic between a client and the network. Tor was not initially focused on circumventing censorship, but started to develop and support censorship resistant technologies when it became clear that many users were using Tor to achieve free and open communication in the face of censorship (a goal that aligns with Tor’s mission).&lt;/p&gt;

&lt;p&gt;Finally, data helps us fight against bad policies and laws that get could otherwise get enacted due to a lack of information. This is nicely and concisely stated by security expert Bruce Schneier (see &lt;a href=&quot;https://metrics.torproject.org/&quot;&gt;here&lt;/a&gt;):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;“Tor metrics are the ammunition that lets Tor and other security advocates argue for a more private and secure  Internet from a position of data, rather than just dogma or perspective.”&lt;br /&gt;
&lt;em&gt;– Bruce Schneier (June 1, 2016)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;wait-doesnt-tor-already-collect-and-provide-network-metrics&quot;&gt;Wait, doesn’t Tor already collect and provide network metrics?&lt;/h1&gt;

&lt;p&gt;Yes, they absolutely do! The &lt;a href=&quot;https://metrics.torproject.org&quot;&gt;Tor metrics&lt;/a&gt; website lists a variety of network and user metrics that Tor collects and provides to the public. These metrics have been extremely useful for helping us understand the state of the network and have provided a glimpse into how the network has been growing and changing over time. The metrics that have been and are currently being collected — including but not limited to relay bandwidth used, relay bandwidth capacity, the number of daily users, the number of users per country, and the amount of exit traffic per port — have gone far to help us continue to improve the network.&lt;/p&gt;

&lt;p&gt;However, as I have previously suggested on the Tor-dev mailing list (&lt;a href=&quot;https://lists.torproject.org/pipermail/tor-dev/2016-January/010258.html&quot;&gt;here&lt;/a&gt; and &lt;a href=&quot;http://archives.seul.org/tor/dev/Feb-2016/msg00054.html&quot;&gt;here&lt;/a&gt;), some of the statistics that are being published could potentially leak information about individual Tor users (we have no reason to believe that any Tor metrics have resulted in attacks on individual users in practice). In addition to safety concerns, many of the statistics are of unknown accuracy. This is because:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;some of them are inferred rather than directly measured&lt;/li&gt;
  &lt;li&gt;some of them are opt-in and not reported by many relays&lt;/li&gt;
  &lt;li&gt;some of them are rounded or get noise added &lt;em&gt;by every reporting relay&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;While privacy techniques like rounding and binning are used for many of the sensitive statistics, most of them lack privacy proofs and therefore we are unable to make strong privacy guarantees. Using recent advances in differential privacy and secure multiparty computation, we can improve the security and privacy of Tor measurements. Not only can we make the existing measurements safer, but this also may allow us to collect measurements that have not been collected before while also achieving a desirable level of accuracy.&lt;/p&gt;

&lt;h1 id=&quot;the-privcount-measurement-system&quot;&gt;The PrivCount Measurement System&lt;/h1&gt;

&lt;p&gt;We developed a distributed Tor measurement system called PrivCount which extends and enhances the &lt;a href=&quot;http://discovery.ucl.ac.uk/1463996/1/Elahi%20et%20al.%20PrivEx%20.pdf&quot;&gt;PrivEx-S2 protocol&lt;/a&gt;. Like PrivEx, PrivCount is designed to count a series of events over time and compute various statistics from those events. For example, PrivCount can count statistics such as the amount of data that is transferred over the measuring relays or the number of users that are connecting to the measuring relays. PrivCount incorporates elements of secure multi-party computation and differential privacy to secure the measurement process and guarantee privacy of the final aggregated output.&lt;/p&gt;

&lt;p&gt;Briefly, each PrivCount &lt;em&gt;data collector&lt;/em&gt; runs on an existing Tor relay. PrivCount works by adding noise to a counter before starting the counting process, and also “blinding” each counter by adding in uniformly random numbers. These “blinding values” are then sent to other PrivCount &lt;em&gt;share keeper&lt;/em&gt; nodes that simply hold on to them until the end of the measurement phase. Because the &lt;em&gt;data collector&lt;/em&gt; counters are “blinded”, an adversary that compromises the machine will not learn anything about the value of the counters before the time of compromise. The &lt;em&gt;data collectors&lt;/em&gt; then collect different types of events from the Tor relays over time and increment the associated counters. Once the measurement phase is complete, the &lt;em&gt;data collectors&lt;/em&gt; send the blinded and noisy counter values to a PrivCount &lt;em&gt;tally server&lt;/em&gt;, and the &lt;em&gt;share keepers&lt;/em&gt; send the “blinding values” to the &lt;em&gt;tally server&lt;/em&gt; so that the &lt;em&gt;tally server&lt;/em&gt; can subtract those “blinding values” from the counter. As long as one single &lt;em&gt;share keeper&lt;/em&gt; is honest and waits until the end of the measurement phase to send the blinding values to the &lt;em&gt;tally server&lt;/em&gt;, no one can learn anything except for the final count. This final count is differentially private because it contains the noise added by each &lt;em&gt;data collector&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;For many more details about the PrivCount protocol and for proofs of security and privacy, please see &lt;a href=&quot;/publications/privcount-ccs2016.pdf&quot;&gt;the paper&lt;/a&gt;. For our python implementation of PrivCount, please our &lt;a href=&quot;https://github.com/privcount/privcount&quot;&gt;git repository on github&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;deploying-privcount-and-collecting-measurements&quot;&gt;Deploying PrivCount and Collecting Measurements&lt;/h1&gt;

&lt;p&gt;In order to use PrivCount for measurement, we ran 7 relays (3 guards and 4 exits) in the Tor network. We setup a PrivCount deployment with 7 data collectors, 6 share keepers, and 1 tally server; these nodes were run by 6 operators in 4 different countries. We used our deployment to count various statistics in Tor.&lt;/p&gt;

&lt;h2 id=&quot;the-effects-of-exit-policies-on-traffic&quot;&gt;The effects of exit policies on traffic&lt;/h2&gt;

&lt;p&gt;We focused some of our measurements on understanding the effects of relay exit policies on traffic, including the number of circuits, streams, and bytes observed at our relays.&lt;/p&gt;

&lt;p&gt;We investigated exit policies:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Default&lt;/strong&gt; is the default exit policy applied by the Tor software if one is not explicitly specified by the relay operator;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Open&lt;/strong&gt; is a policy that allows all ports; and&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Strict&lt;/strong&gt; is a stricter-than-default policy that also blocks port 80 and 443.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note that the main difference between “Default” and “Open” is that “Default” blocks a range of ports that are known to be used for file sharing while “Open” does not. We also considered different categories of traffic:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Web&lt;/strong&gt; consists of traffic from port 80 and 443;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Interactive&lt;/strong&gt; includes SSH port 22 and those used for IRC; and&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Other&lt;/strong&gt; are the remaining ports.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Notice that when moving from Default to Open (meaning file sharing ports are allowed), the number of Other circuits and streams increase as more file sharing traffic is observed on our nodes — but interestingly, the number of Web circuits and web streams do not change by much. However, Other bytes take up a much larger proportion of the traffic than Web bytes, indicating that file sharing traffic may be drowning out browser traffic. We also found that Interactive traffic is a very small part of the overall traffic observed at our relays.&lt;/p&gt;

&lt;h2 id=&quot;trends-in-web-application-usage&quot;&gt;Trends in web application usage&lt;/h2&gt;

&lt;p&gt;We extrapolated our measurements to infer total network-wide statistics by combining the measurements we took with each of 6 total exit policies that we measured with the popularity of those exit policies among all exit relays in Tor. We compare our network estimates from measurements taken this year (2016) to those take in 2008 by McCoy &lt;em&gt;et. al.&lt;/em&gt; (&lt;em&gt;viz.&lt;/em&gt; “Shining Light in Dark Places: Understanding the Tor Network”) and to those taken in 2010 by Chaabane &lt;em&gt;et. al.&lt;/em&gt; (&lt;em&gt;viz.&lt;/em&gt; “Digging into anonymous traffic: A deep analysis of the Tor anonymizing network”).&lt;/p&gt;

&lt;p&gt;We observed an increase in the percentage of “Web” connections corresponding to ports 80 and 443 since 2010, and a large increase in the amount of “Web” traffic since both 2008 and 2010. This could be due to a combination of factors, e.g., perhaps more file sharing traffic uses port 80 and/or 443 than in the past or perhaps fewer users are using Tor for file sharing (instead opting for popular services like Netflix and Spotify). Splitting ports 80 and 443 into their own traffic classes could be useful in future PrivCount collections.&lt;/p&gt;

&lt;h2 id=&quot;number-of-tor-users&quot;&gt;Number of Tor users&lt;/h2&gt;

&lt;p&gt;Finally, we measured the average number of unique users connecting to our relays over 10 minute periods, and the number of those users that were active (built and actively used circuits) and inactive (built circuits but never used them). We again used our measurements to infer the total number of active users across the entire Tor network during an average 10 minutes.&lt;/p&gt;

&lt;p&gt;Based on our observations, we estimate that Tor has about 710,000 unique users connecting to the network in an average 10 minutes, and of those about 550,000 (77%) are active while 160,000 (23%) are inactive.&lt;/p&gt;

&lt;p&gt;We compare our results to Tor’s user estimates. Although Tor does not directly measure the number of users, there are a couple of ways they estimate it. Based on &lt;a href=&quot;https://tor-metrics.shinyapps.io/webstats2&quot;&gt;Tor Browser update ping data&lt;/a&gt; (update pings happen twice per day), we can very roughly estimate between 800,000 and 1.6 million &lt;em&gt;concurrent&lt;/em&gt; Tor users during the same period that we did our PrivCount measurements. This is in line with our initial user measurements, and we hope to improve our estimate in the future. Also, based on &lt;a href=&quot;https://metrics.torproject.org&quot;&gt;downloads of Tor consensus documents&lt;/a&gt;, Tor estimates about 1.75 million &lt;em&gt;daily&lt;/em&gt; users. These estimates of concurrent and daily users suggest that Tor users turn over about 2.5 times per day.&lt;/p&gt;

&lt;p&gt;Please refer to &lt;a href=&quot;/publications/privcount-ccs2016.pdf&quot;&gt;our paper&lt;/a&gt; for additional Tor statistics that were not described in this post.&lt;/p&gt;

&lt;h1 id=&quot;where-do-we-go-from-here&quot;&gt;Where do we go from here&lt;/h1&gt;

&lt;p&gt;We are currently working on improving our measurement tool and adding support for more types of statistics including various onion service statistics that will help Tor improve onion service performance and scalability. We are also working on developing techniques that will allow us to safely count the number of users over arbitrary time periods rather than just over 10 minutes.&lt;/p&gt;

&lt;p&gt;We hope that The Tor Project finds our tool useful. We envision a PrivCount deployment that can be operated by Tor and that we can use to improve the privacy and security of the Tor measurement process.&lt;/p&gt;

&lt;p&gt;~Rob&lt;/p&gt;</content><author><name>Rob G. Jansen</name><email>rob.g.jansen@nrl.navy.mil</email></author><category term="measurement" /><category term="anonymity" /><category term="privacy" /><category term="differential privacy" /><category term="secure multiparty computation" /><category term="secret sharing" /><category term="Tor" /><summary>I’m pleased to introduce some new work on developing better techniques and systems for safely measuring the Tor anonymous communication network. This work was done together with my colleague Aaron Johnson, and a related paper entitled Safely Measuring Tor will be published in the proceedings of the 23rd ACM Conference on Computer and Communication Security (CCS 2016) (I’ll be presenting it at the conference later this week). A bibtex citation for our paper is:</summary></entry><entry><title>Paper describing Bitcoin Simulation will appear at CSET 2015</title><link href="/blog/2015/06/23/paper-describing-bitcoin-simulation-will-appear-at-cset-2015/" rel="alternate" type="text/html" title="Paper describing Bitcoin Simulation will appear at CSET 2015" /><published>2015-06-23T20:53:43-04:00</published><updated>2015-06-23T20:53:43-04:00</updated><id>/blog/2015/06/23/paper-describing-bitcoin-simulation-will-appear-at-cset-2015</id><content type="html" xml:base="/blog/2015/06/23/paper-describing-bitcoin-simulation-will-appear-at-cset-2015/">&lt;p&gt;Our paper entitled “&lt;a href=&quot;/publications/shadowbitcoin-cset2015.pdf&quot;&gt;Shadow-Bitcoin: Scalable Simulation via Direct Execution of Multi-threaded Applications&lt;/a&gt;” has been accepted to the 8th Workshop on Cybersecurity Experimenation and Test (CSET) 2015! It describes how we were able to run our own private Bitcoin network for experimental purposes using the &lt;a href=&quot;https://github.com/shadow/shadow&quot;&gt;Shadow simulator&lt;/a&gt;. The private Bitcoin network made it easy to debug our Bitcoin code modifications and test the attacks that are also presented in the paper, and we think it will be a useful starting point for future Bitcoin research and development.&lt;/p&gt;

&lt;p&gt;CSET is co-located with USENIX Security and will be held in DC on 2015/08/10. Check out the &lt;a href=&quot;https://www.usenix.org/conference/cset15/workshop-program&quot;&gt;full CSET 2015 program&lt;/a&gt;.&lt;/p&gt;</content><author><name>Rob G. Jansen</name><email>rob.g.jansen@nrl.navy.mil</email></author><category term="publication" /><summary>Our paper entitled “Shadow-Bitcoin: Scalable Simulation via Direct Execution of Multi-threaded Applications” has been accepted to the 8th Workshop on Cybersecurity Experimenation and Test (CSET) 2015! It describes how we were able to run our own private Bitcoin network for experimental purposes using the Shadow simulator. The private Bitcoin network made it easy to debug our Bitcoin code modifications and test the attacks that are also presented in the paper, and we think it will be a useful starting point for future Bitcoin research and development.</summary></entry><entry><title>I am co-chairing WPES 2015</title><link href="/blog/2015/05/17/i-am-co-chairing-wpes-2015/" rel="alternate" type="text/html" title="I am co-chairing WPES 2015" /><published>2015-05-17T14:15:51-04:00</published><updated>2015-05-17T14:15:51-04:00</updated><id>/blog/2015/05/17/i-am-co-chairing-wpes-2015</id><content type="html" xml:base="/blog/2015/05/17/i-am-co-chairing-wpes-2015/">&lt;p&gt;I am co-chairing the 2015 Workshop on Privacy in the Electronic Society. The call for papers is currently available on &lt;a href=&quot;https://wpes15.cs.umn.edu/&quot;&gt;the workshop website&lt;/a&gt;, and papers can be submitted through &lt;a href=&quot;https://wpes15-submit.cs.umn.edu/&quot;&gt;the submission site&lt;/a&gt;. Please consider submitting and join a discussion with the top minds in digital privacy.&lt;/p&gt;

&lt;p&gt;WPES is co-located with the &lt;a href=&quot;http://www.sigsac.org/ccs/CCS2015/&quot;&gt;22nd ACM Conference on Computer and Communications Security&lt;/a&gt; (CCS), which will take place in Denver, Colorado on October 12-16, 2015.&lt;/p&gt;</content><author><name>Rob G. Jansen</name><email>rob.g.jansen@nrl.navy.mil</email></author><category term="service" /><summary>I am co-chairing the 2015 Workshop on Privacy in the Electronic Society. The call for papers is currently available on the workshop website, and papers can be submitted through the submission site. Please consider submitting and join a discussion with the top minds in digital privacy.</summary></entry><entry><title>The Sniper Attack Won the NRL Berman Award</title><link href="/blog/2015/05/17/sniper-attack-won-berman-award/" rel="alternate" type="text/html" title="The Sniper Attack Won the NRL Berman Award" /><published>2015-05-17T14:10:04-04:00</published><updated>2015-05-17T14:10:04-04:00</updated><id>/blog/2015/05/17/sniper-attack-won-berman-award</id><content type="html" xml:base="/blog/2015/05/17/sniper-attack-won-berman-award/">&lt;p&gt;Our paper entitled “&lt;a href=&quot;publications/sniper-ndss2014.pdf&quot;&gt;The Sniper Attack: Anonymously Deanonymizing and Disabling the Tor Network&lt;/a&gt;” won the
47th Annual Alan Berman Research Publication Award! This award was given by the U.S. Naval Research Laboratory on 2015-04-17 for best paper in the Information Technology Division.&lt;/p&gt;</content><author><name>Rob G. Jansen</name><email>rob.g.jansen@nrl.navy.mil</email></author><category term="award" /><summary>Our paper entitled “The Sniper Attack: Anonymously Deanonymizing and Disabling the Tor Network” won the
47th Annual Alan Berman Research Publication Award! This award was given by the U.S. Naval Research Laboratory on 2015-04-17 for best paper in the Information Technology Division.</summary></entry><entry><title>Paper Accepted to WPES 2014</title><link href="/blog/2014/09/14/paper-accepted-to-wpes-2014/" rel="alternate" type="text/html" title="Paper Accepted to WPES 2014" /><published>2014-09-14T22:25:45-04:00</published><updated>2014-09-14T22:25:45-04:00</updated><id>/blog/2014/09/14/paper-accepted-to-wpes-2014</id><content type="html" xml:base="/blog/2014/09/14/paper-accepted-to-wpes-2014/">&lt;p&gt;Our paper entitled “&lt;a href=&quot;/publications/imux-wpes2014.pdf&quot;&gt;IMUX: Managing Tor Connections from Two to Infinity, and Beyond&lt;/a&gt;” has been accepted to WPES 2014!&lt;/p&gt;</content><author><name>Rob G. Jansen</name><email>rob.g.jansen@nrl.navy.mil</email></author><category term="publication" /><summary>Our paper entitled “IMUX: Managing Tor Connections from Two to Infinity, and Beyond” has been accepted to WPES 2014!</summary></entry><entry><title>Tor incentives research roundup: GoldStar, PAR, BRAIDS, LIRA, TEARS, and TorCoin</title><link href="/blog/2014/07/14/tor-incentives-research-roundup/" rel="alternate" type="text/html" title="Tor incentives research roundup: GoldStar, PAR, BRAIDS, LIRA, TEARS, and TorCoin" /><published>2014-07-14T16:42:00-04:00</published><updated>2014-07-14T16:42:00-04:00</updated><id>/blog/2014/07/14/tor-incentives-research-roundup</id><content type="html" xml:base="/blog/2014/07/14/tor-incentives-research-roundup/">&lt;blockquote&gt;
  &lt;p&gt;This post originally appeared &lt;a href=&quot;https://blog.torproject.org/blog/tor-incentives-research-roundup-goldstar-par-braids-lira-tears-and-torcoin&quot;&gt;on the TorProject blog&lt;/a&gt; summarizing the then-current state of research on Tor incentive schemes and related challenges. The post includes information about the new TorCoin and TEARS research papers that appeared at HotPETs later that week.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;There has been a considerable amount of work in the area of Tor incentives since &lt;a href=&quot;https://blog.torproject.org/blog/two-incentive-designs-tor&quot;&gt;the last post on the topic in 2009&lt;/a&gt; (over 5 years ago!). This post will give an overview of some of the major new approaches, including two new designs that I co-authored that will appear at &lt;a href=&quot;https://www.petsymposium.org/2014/hotpets.php&quot;&gt;the Workshop on Hot Topics in Privacy Enhancing Technologies&lt;/a&gt; later this week. Before getting to those, I'll give background on Tor and discuss some of the social issues to help form a foundation of understanding.&lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;volunteer_resources&quot; href=&quot;#volunteer_resources&quot;&gt;Tor’s volunteer resource model&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The Tor network consists of a &lt;a href=&quot;http://torstatus.blutmagie.de/&quot;&gt;set of relays&lt;/a&gt; that provide bandwidth and other resources to forward traffic for Tor users. Anyone in any part of the world can contribute to Tor by downloading &lt;a href=&quot;https://www.torproject.org/download/download-easy.html.en&quot;&gt;the Tor software&lt;/a&gt; and &lt;a href=&quot;https://www.torproject.org/docs/tor-doc-relay.html.en&quot;&gt;configuring it to operate in relay mode&lt;/a&gt;. In fact, the Tor network is currently composed exclusively of such voluntarily-operated relays.&lt;/p&gt;
&lt;p&gt;There are many reasons existing relay operators might contribute to Tor. They may contribute because they really want a privacy-enhancing communication tool like Tor to exist, they believe in Tor’s philosophy of open source software and operational transparency, and they want Tor to succeed at its goals. They may wish to be part of the Tor community and the social movement to provide privacy-enhanced communication that connects people in all parts of the world. Tor may be practically useful to them for communication with others or to retrieve content that may otherwise be unavailable to them due to censorship or other network interference. Or they may be technically interested in the Tor software or network and the associated research problems raised by large, distributed systems. Finally, some may be interested for adversarial reasons, e.g., collecting information on the uses of the network or the content being transferred. All of these reasons provide intrinsic motivation for operators to contribute - they don’t expect any direct compensation for their contributions.&lt;/p&gt;
&lt;p&gt;The volunteer approach has succeeded so far: Tor now consists of &lt;a href=&quot;https://metrics.torproject.org/network.html#networksize&quot;&gt;over 5000 relays&lt;/a&gt; transferring &lt;a href=&quot;https://metrics.torproject.org/network.html#bandwidth&quot;&gt;between 4 and 5 GiB/s in aggregate&lt;/a&gt;. For the most part, this is &quot;organic&quot; growth obtained through community outreach, where volunteers first have personal contact with existing community members and become inspired to help.&lt;/p&gt;
&lt;p&gt;Whatever their reason for volunteering, relay operators not only contribute resources from the physical machines upon which their relays are executed, but also contribute the time involved with configuring, updating, and adjusting their relays as both the software and network mature. In many cases, operators also contribute monetarily through the direct purchase of dedicated machines or special fast connections to Internet Service Providers (ISPs), and exit relay operators spend social energy on maintaining relationships with their ISP (to make sure the ISP understands that requests coming from their machines are from Tor).&lt;/p&gt;
&lt;p&gt;However, because many people that are otherwise excited about or interested in Tor are incapable or unwilling to incur these expenses, there are far fewer Tor relays than Tor clients (users that use Tor to access content, e.g. via the Tor Browser Bundle, without directly contributing resources to the network). Expanding the set of relays could have many benefits: Tor could become faster, more reliable, and more secure while at the same time distributing trust among a larger and more diverse set of distributed peers. A larger network that is transferring a larger quantity and more diverse types of data will, in general, make it more difficult for an adversary to determine who is talking to whom. This means a safer Tor for everyone.&lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;incentives_motivation&quot; href=&quot;#incentives_motivation&quot;&gt;Incentives and motivation... say whuuuht?&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;There are many social and technical challenges involved with expanding the set of Tor relays. We focus here on the social issues surrounding how to encourage more people to run a relay in the first place by providing incentives (i.e., rewards) for relay operators, and later focus on how to do this without leaking information or otherwise hurting Tor’s anonymity.&lt;/p&gt;
&lt;p&gt;An important social issue to consider is that of maintaining the existing community of operators and how rewards could harm it. The presumption here is that existing relay operators are motivated to run relays for their own reasons - the act of contributing to Tor itself has intrinsic value to them. Then the question is: what would happen if we start rewarding operators through the use of an incentive system?&lt;/p&gt;
&lt;p&gt;The answer isn’t clear, and there are at least a couple of forks in the cognitive road with many more questions along the way. First, what would happen to the existing operators who used to feel good about volunteering but are now compensated with a reward that may have extrinsic value? Although the new reward may provide some extrinsic value, will it lower their original intrinsic value enough to cause them to &lt;a href=&quot;http://www.ted.com/talks/dan_pink_on_motivation&quot;&gt;lose their motivation&lt;/a&gt; to contribute? Will they continue their contributions but begin to expect the reward, such that &lt;a href=&quot;http://p2pfoundation.net/Intrinsic_vs._Extrinsic_Motivation#Why_Extrinsic_Motivation_Doesn.27t_Work&quot;&gt;if the reward is removed later they would no longer be motivated&lt;/a&gt; even though originally (before the reward) they were happy to contribute? Second, is the new group of operators attracted to Tor by the reward somehow less desirable than the existing group, because they don’t care as much about Tor or are more likely to stop contributions and leave the system more quickly than the existing volunteers? Is the fact that they have higher extrinsic motivation than intrinsic make them better or worse operators? Will they be less likely to incur the costs of saying &quot;no&quot; when people ask them to log or turn over traffic? Will they in fact be willing to sell logs if it increases their rewards? Third, how will the new group of operators affect the existing group? If their intrinsic motivation was low enough before the reward that they didn’t contribute, but high enough with the reward that they do contribute, are these new contributors going to somehow shift the &quot;community spirit&quot; into something that no longer has the value that it once had? Will this &lt;a href=&quot;http://p2pfoundation.net/Crowding_Out&quot;&gt;&quot;crowd out&quot; the intrinsically motivated individuals&lt;/a&gt; and cause existing operators to leave (a &lt;a href=&quot;http://p2pfoundation.net/Crowding_Out#Empirical_evidence_of_the_crowding_effect&quot;&gt;widely&lt;/a&gt; &lt;a href=&quot;http://www.roughtype.com/?p=479&quot;&gt;acknowledged&lt;/a&gt; &lt;a href=&quot;http://en.wikipedia.org/wiki/Motivation_crowding_theory&quot;&gt;theory&lt;/a&gt;)?&lt;/p&gt;
&lt;p&gt;The answers to these questions are not clear, though speculations abound. One response is that we will never know what will happen until we try it, but if we try it we may not like the result. Another is that if we try it and it succeeds, great; if it starts going badly, we can adapt and adjust.&lt;/p&gt;
&lt;p&gt;Researchers and other Tor community members have been interested in the Tor incentive problem because a well-designed incentive scheme has the potential to greatly improve the network (we will discuss several technical designs below). However, because of the many open social questions, it has been challenging for the Tor community to come to a consensus on the path forward. On one hand and as discussed above, many people already run Tor relays and provide valuable service, and the &lt;a href=&quot;https://metrics.torproject.org/network.html#networksize&quot;&gt;network&lt;/a&gt; and &lt;a href=&quot;https://metrics.torproject.org/network.html#bandwidth&quot;&gt;bandwidth&lt;/a&gt; graphs imply some amount of success in network growth. It would be tragic if the introduction of an experimental reward scheme drove away the existing participants. On the other hand, the &lt;a href=&quot;https://metrics.torproject.org/users.html#userstats-relay-country&quot;&gt;number of Tor clients still vastly exceeds the number of relays&lt;/a&gt;, and Tor’s bandwidth capacity remains the limiting factor for Tor’s growth. &lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;reasoning_model&quot; href=&quot;#reasoning_model&quot;&gt;A simplified model of reasoning&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;If we consider that relay operators with a higher intrinsic motivation to contribute are somehow more desirable to the network and the community because they care more deeply about Tor and the social movement, then we can consider there to be a trade-off between reward value and the desirability of the operator. The lower the extrinsic reward value is, the higher the intrinsic value a potential new operator must possess in order for the total value to be high enough to motivate her to contribute. The higher the extrinsic reward value is, the lower the intrinsic value may be to still attract the new operator. Under this model, as the value of the reward increases, the number of individuals willing to contribute also increases while their &quot;quality&quot; decreases.&lt;/p&gt;
&lt;p&gt;Please note that this is a very simplified model of reasoning and since it does not necessarily reflect reality, not everyone should agree with it. There are many other values in play here as well; for example, motivations change over time as the world changes, and incentive schemes that require significant protocol modifications are more difficult to implement, test, and deploy. Nonetheless, this simplified model may help sort out the issues, and it seems to be consistent with the fact that the Tor community has thus far preferred to grow the network through intrinsically motivated relay operators.&lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;social_rewards&quot; href=&quot;#social_rewards&quot;&gt;Social rewards&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Tor’s volunteer approach has generally been on the conservative side of our simplified model, where individuals with higher intrinsic motivations to contribute to Tor are preferred. New operators have been recruited through social and community-oriented efforts such as explaining how great Tor is and why they should care. This works well for people who are already intrinsically motivated about Tor, such as &lt;a href=&quot;http://imgur.com/sZUKADG&quot;&gt;this guy who tattooed a Tor onion on his arm&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Other relay recruitment approaches for intrinsically motivated individuals include &lt;a href=&quot;https://www.torservers.net/&quot;&gt;Torservers.net&lt;/a&gt; and the &lt;a href=&quot;https://www.noisebridge.net/wiki/Tor&quot;&gt;Noisebridge Tor Exit Node Project&lt;/a&gt;: both operate as independent nonprofit organizations for those people who would like to contribute to the Tor network but for one reason or another are not in a position to operate relays themselves. As discussed in a &lt;a href=&quot;https://blog.torproject.org/blog/support-tor-network-donate-exit-node-providers&quot;&gt;2011 post&lt;/a&gt;, it is preferable that people who can run their own fast exit relays do so. But the approach of turning donations into fast exit capacity allows those who cannot run their own relays to still contribute to improving the performance and exit capacity of the Tor network.&lt;/p&gt;
&lt;p&gt;The more recent &lt;a href=&quot;https://www.eff.org/torchallenge/&quot;&gt;EFF Tor Challenge&lt;/a&gt; is somewhere on the same side of the spectrum, except it actually offers small rewards as incentives. EFF explains Tor’s importance and users are encouraged to contribute to the network by running a relay. The challenge offers prizes to relay operators as an incentive: name and twitter handle published in a list of contributors, a limited edition sticker for running a relay for 12 months, and a t-shirt if that relay is fast (bandwidth of 1 MB/s or larger after 12 months).&lt;/p&gt;
&lt;p&gt;Other social rewards are possible here as well. A &lt;a href=&quot;https://lists.torproject.org/pipermail/tor-dev/2014-June/006975.html&quot;&gt;post on the tor-dev mailing list&lt;/a&gt; proposes that Tor host a simple profile page for each relay that will list and celebrate the relay’s total bandwidth contribution over time, and recognize the operator for running special Tor bridge or exit relays. Relatively simple ideas like this may have the potential to attract intrinsically-motivated individuals without requiring extrinsic rewards or a lot of changes to Tor itself.&lt;/p&gt;
&lt;p&gt;The approaches in this category are relatively low-risk/low-reward schemes: even though the new operators are receiving recognition or a reward for running a relay, the reward is of such little value that there is little risk that existing contributors who may not have been rewarded will leave. At the same time, a new operator loses little if it decides to shut down the new relay.&lt;/p&gt;
&lt;p&gt;On the other side of the spectrum are more &quot;radical&quot; approaches that do not require individuals with high intrinsic motivation (though they are welcome, too!) but change Tor’s design have been explored by researchers. Researchers explore these designs because they are generally more technically interesting and have the potential to produce a much larger set of relays. We now shift to discussing these latest research proposals.&lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;research_review&quot; href=&quot;#research_review&quot;&gt;Review of early research on Tor incentive system designs - Gold Star and PAR&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.torproject.org/blog/two-incentive-designs-tor&quot;&gt;The 2009 post&lt;/a&gt; discussed two incentive papers that were new at the time: &lt;a href=&quot;http://cs.gmu.edu/~astavrou/research/Par_PET_2008.pdf&quot;&gt;Payment for Anonymous Routing&lt;/a&gt; from PETS 2008 (PAR) and &lt;a href=&quot;http://freehaven.net/anonbib/papers/incentives-fc10.pdf&quot;&gt;Building Incentives into Tor&lt;/a&gt; from FC 2010 (the &quot;Gold Star&quot; scheme).&lt;/p&gt;
&lt;p&gt;In the Gold Star scheme, the Tor directory authorities measure the bandwidth of Tor relays and assign a special flag (a &quot;gold star&quot;) to the fastest 7/8 of relays. Then whenever those relays send traffic through Tor, they choose the other fast gold star relays to form a fast gold star path. Relays then prioritize traffic on these gold star paths. The incentive here is that if you run a relay, you will get faster service when using Tor as a client. The main drawback to this approach is that only relays are able to get gold stars and priority service. This means that all relays that are part of a gold star path know for certain that the initiator of that traffic is someone from the small list of gold star relays. Because the set of gold star relays would be smaller than the set of all Tor users by several orders of magnitude, the anonymity for gold star relays would be significantly harmed.&lt;/p&gt;
&lt;p&gt;In PAR, all users (not just relays) are able to be part of the incentive system. PAR has an honest-but-curious centralized entity called a &quot;bank&quot; that manages digital tokens called &quot;coins&quot;. Users can purchase coins from the bank and then pay the relays while using Tor; the relays then deposit the coins back into the bank and the bank checks to make sure the coin is valid and that it has never been spent before (i.e., it has not been &quot;double spent&quot;). The main novel idea explored in this work is how to include digital payments into each Tor circuit in a way that prevents the relays from learning the client’s identity from the payment itself.&lt;/p&gt;
&lt;p&gt;Adding real money into Tor opens a host of new legal and technical questions, which &lt;a href=&quot;https://blog.torproject.org/blog/two-incentive-designs-tor&quot;&gt;Roger already briefly discussed&lt;/a&gt;. For example, real money might shift Tor into a different legal category (see e.g. the EU discussions of what is a &quot;service provider&quot; and which ones are obliged to do data retention), or change the liability situation for relay operators.&lt;/p&gt;
&lt;p&gt;The main design challenge we learned from the PAR design is that the timing of when the client withdraws the coins and the relays deposit them creates a trade-off between the ability to detect double spending and link a client to its coins. If the client withdraws some coins and a few seconds later a relay starts depositing coins, how much information does the bank gain? If the relay waits for some time interval to deposit the coins to hide this timing information, then it becomes possible for the client to double spend those coins during that interval. The longer the relay waits before depositing, the harder it is for the bank to link the coins but the easier it is for the client to cheat. A rational relay will deposit immediately to secure its payment, which leads to the worst situation for anonymity. If we assume the relays will deposit immediately, then it is up to the client to hold coins for some random amount of time after purchasing them from the bank, to disrupt potential attempts to link withdrawals to deposits at the cost of flexibility in usage.&lt;/p&gt;
&lt;p&gt;In review, both of these proposals have anonymity problems: the Gold Star scheme because the assignment of rewards to relays is public and identifies traffic as originating from the relatively small set of clients of fast relay operators; and PAR because the timing of the withdrawal by the client and the deposit by the relay may leak information about the client’s traﬃc. In PAR, coins may be held by the client and the relay longer to disrupt this timing information, but this trades off flexibility in usage and the speed at which double spending can be detected. So what have these papers taught us? We have learned about some requirements that a Tor incentive scheme should probably fulfill: both clients and relays should be able to receive the incentive so that neither group stands out; and the timing of payments should not allow cheating and should not enable linkability. &lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;prevent_doublespend_timing&quot; href=&quot;#prevent_doublespend_timing&quot;&gt;Preventing double-spending without leaking timing information - BRAIDS&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.robgjansen.com/publications/braids-ccs2010.pdf&quot;&gt;Recruiting New Tor Relays with BRAIDS&lt;/a&gt; was the followup research proposal presented at CCS in 2010. One of our goals in BRAIDS was to eliminate the trade-off between double-spending and linkability. To achieve this, we designed a new type of digital token which we called a &quot;relay-specific ticket&quot;. Tickets were still issued by a trusted, centralized entity - the ticketmaster (we called it a &quot;bank&quot; in the paper, but BRAIDS was not designed to handle real money). Clients choose which relays they want to use, and receive tickets from the ticketmaster that are valid only at the chosen relays while hiding the chosen relay information from the ticketmaster (using partially-blind signatures). Clients then form a Tor circuit with the chosen relays and send the tickets to receive traffic priority (using a differentiated services scheduler). Each ticket will then provide traffic priority through the chosen relay for a specific number of bytes. Because each ticket a relay receives is only valid at that relay and no other, the relay could prevent double spending locally without contacting the ticketmaster.&lt;/p&gt;
&lt;p&gt;Another feature of BRAIDS is that tickets are distributed freely in small amount to any client that asks, but only to one client per IP address, and only once per distribution round. If the clients change their mind about which relays they want to use for a circuit, they may contact the ticketmaster to exchange their old tickets for new ones following a time schedule. The exchange process is also used by relays to turn the tickets they received from clients into new usable tickets.&lt;/p&gt;
&lt;p&gt;One main drawback to BRAIDS is that even though all users are able to get a small amount of tickets for free, relays are able to accumulate a much larger stash because they receive the free tickets AND the tickets sent to them by other clients. This means that relays stand out when using tickets to download large flows because it is less likely that a normal client would have been able to afford it. Another major drawback is that the exchange process is somewhat inefficient. Relays will exchange received tickets for new ones which they can use themselves, and clients that didn't spend their tickets (e.g., because their Tor usage was low or their chosen relays became unavailable) must exchange them or lose them. This leads to the ticketmaster exchanging all system tickets over every exchange interval. (The ticket validity interval is split into [spend, relay exchange, client exchange], so clients that don't spend in the &quot;spend&quot; time-frame must wait until &quot;client exchange&quot; time-frame to get new tickets. Increasing the interval lengths make them slightly less flexible to rapid changes. The longer the intervals, the more tickets will &quot;pile up&quot; for later processing by the ticketmaster.)&lt;/p&gt;
&lt;p&gt;BRAIDS showed us the power of relay-specific tickets but unveiled the scalability problems associated with a trusted, centralized entity.&lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;improving_scalability&quot; href=&quot;#improving_scalability&quot;&gt;Improving scalability - LIRA&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.robgjansen.com/publications/lira-ndss2013.pdf&quot;&gt;LIRA: Lightweight Incentivized Routing for Anonymity&lt;/a&gt; was published at NDSS 2013. LIRA still uses a centralized entity to manage the incentives, but LIRA only requires incentive management for the relays (thousands) instead of for all system users (millions) like BRAIDS. The way we achieve this is through the use of a lottery system, where clients could simply guess a random number for every circuit to receive priority on that circuit (traffic is prioritized using a differentiated services scheduler as in BRAIDS) with tunable probability. The lottery is set up with special &lt;a href=&quot;http://mit.tv/wHGsAp&quot;&gt;cryptography magic&lt;/a&gt; such that relays are rewarded with guaranteed winning guesses to the lottery; relays are allotted winners according to the amount of bandwidth they contributed.&lt;/p&gt;
&lt;p&gt;LIRA is more efficient and scalable than any earlier scheme. However, LIRA’s main drawback is that probabilistic guessing reduces flexibility for clients wanting to receive continuous priority over time, and creates a potential for cheating the system because it enables clients to continuously create new circuits and new guesses until a correct guess is found. Another problem is that a secure bandwidth measurement scheme is required to ensure that relays don’t receive rewards without actually contributing to Tor (this wasn't necessary in BRAIDS because the clients sent rewards (tickets) directly to the relays); secure bandwidth measurement is still an open research problem. Finally, LIRA still relies on a trusted central entity to manage the lottery.&lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;reducing_trust_requirements&quot; href=&quot;#reducing_trust_requirements&quot;&gt;Reducing reliance on trusted parties - TEARS&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.robgjansen.com/publications/tears-hotpets2014.pdf&quot;&gt;From Onions to Shallots: Rewarding Tor Relays with TEARS&lt;/a&gt; will be presented at HotPETs later this week. The main goal in TEARS is to remove the reliance on a central entity to manage the incentives. The central entities in the above schemes (let’s generalize them as &quot;banks&quot;) are referred to as &quot;semi-trusted&quot;, because there are several ways a malicious bank could misbehave - for example, the bank could refuse service, could extort users by demanding extra fees in order to process their requests, or could &quot;inflate&quot; the digital currency (coins, tickets, guesses, etc.) by printing its own tokens for a profit.&lt;/p&gt;
&lt;p&gt;TEARS draws upon the decentralized Bitcoin design to address these concerns by using a &lt;b&gt;*publicly auditable*&lt;/b&gt; e-cash protocol that prevents the bank from misbehaving and getting away with it. The bank in TEARS consists of a group of semi-trusted servers, such as the Tor directory servers (as opposed to Bitcoin’s distributed proof-of-work lottery), only a quorum of which need to function correctly for the overall system to keep working. The e-cash cryptography used here is publicly auditable and every interaction with the bank is conducted over a public communication channel (such as the Bitcoin blockchain itself). The security guarantee is that any form of misbehavior on the part of the bank servers leaves a trail of evidence that can be discovered by anyone watching. This approach is reminiscent of systems like &lt;a href=&quot;http://www.certificate-transparency.org/&quot;&gt;Certificate Transparency&lt;/a&gt; and &lt;a href=&quot;http://opentransactions.org&quot;&gt;OpenTransactions.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In addition to a decentralized bank, TEARS offers a new two-level token architecture to facilitate rewarding relays for their bandwidth contributions without hurting anonymity. First, a decentralized process audits relays’ bandwidth and informs the bank of the results. The bank mints new &quot;shallots&quot; (anonymous, auditable e-cash) for each relay based on their contributions and deposits them into the relay accounts on their behalf. Separately, the bank’s monetary policy may allow it to mint new shallots and distribute them to users, e.g. using mechanisms suggested in BRAIDS but more commonly known to Bitcoin users as &lt;a href=&quot;https://en.bitcoin.it/wiki/Bitcoin_faucet&quot;&gt;faucets&lt;/a&gt;. Second, shallots are transferable among users and may be redeemed for relay-specific &quot;PriorityPasses&quot;, which are then used to request traffic priority from Tor relays (again, as in BRAIDS). PriorityPasses are relay-specific so that relays can immediately and locally prevent double spending without leaking information to any other entity. This is a similar feature present in BRAIDS’ tickets. However, a novel feature of PriorityPasses is that they are non-transferable and become useless after being spent at a relay -- this reduces overhead associated with exchanges, and ensures that the process of requesting traffic priority does not harm anonymity because the act of redeeming a shallot for a PriorityPass will be unlinkable to any later transaction. There is a question of how many PriorityPasses can be spent in one circuit before it is suspicious that a client has so many, so the size of the faucets and how they distribute Shallots will play a key role in anonymity. Anonymity is also tied to how relays decide to distribute their Shallots to clients, either via a faucet or a through a third party market.&lt;/p&gt;
&lt;p&gt;TEARS was designed to operate inside the existing Tor network and thus does not significantly change the fundamentals of Tor’s design. The decentralized bank and bandwidth measurement components do not alter the way clients choose circuits. Clients and relays that want to use or support TEARS, however, would need to support new protocols for interacting with the bank and logic for handling shallots, PriorityPasses, and traffic priority.&lt;/p&gt;
&lt;p&gt;TEARS still relies on a &quot;bandwidth measuring&quot; component that can accurately and robustly determine when a relay has indeed contributed useful bandwidth. While the e-cash system in TEARS is designed to be publicly auditable, the existing mechanisms for bandwidth still require trusted authorities to probe. &lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;bandwidth_measurement&quot; href=&quot;#bandwidth_measurement&quot;&gt;Bandwidth measurement - TorCoin&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.robgjansen.com/publications/torpath-hotpets2014.pdf&quot;&gt;A TorPath to TorCoin - Proof-of-Bandwidth Altcoins for Compensating Relays&lt;/a&gt; is the other paper to be presented at HotPETs this week. TorCoin addresses the bandwidth measurement problem with a different approach -- an altcoin (a Bitcoin alternative) based on a novel &quot;proof-of-bandwidth&quot; (rather than proof-of-work) mechanism called TorPath, in which the relays (and endpoints) of a circuit effectively mine for new coins whenever they successfully transfer a batch of packets. In TorCoin, a group of &quot;assignment&quot; authorities are responsible for generating a list of circuits (using a shuffle protocol) and assigning them to clients. Bandwidth proofs are then constructed as the circuit is used such that the client mines the TorCoin and then transfers part of it to each of the circuit’s participants.&lt;/p&gt;
&lt;p&gt;Like TEARS, TorCoin distributes the process of rewarding relays for their bandwidth contributions. Bandwidth measurement is done directly as part of the distributed mining process and provides strong guarantees. Also, by utilizing a group of assignment authorities that may have more information about the system or underlying network, there is a lot of potential for generating more secure paths for clients than clients are able to generate for themselves.&lt;/p&gt;
&lt;p&gt;TorCoin still has some issues to work out; it may be possible to fix some of the smaller issues with protocol modifications, but some of the larger issues don’t have obvious solutions.&lt;/p&gt;
&lt;p&gt;One drawback to TorCoin is that it requires the group of collectively-trusted assignment authorities (you have to trust only that some threshold/quorum number of them are correct) to generate and assign circuits to clients. This is a similar trust model to the current Tor directory authorities. In practice, the assignment authorities cause availability issues: if a majority of the assignment authorities are unreachable, e.g. due to DoS or censorship, then the system is unusable to the clients because they won’t be able to generate circuits. This is also somewhat true of the directory authorities, however, directory information can be signed and then mirrored and distributed by other relays in the system whereas assignment authorities are required to always be online and available to new clients. TorCoin clients contact the assignment authorities in order to build new circuits, whereas in Tor they can build as many circuits as they need once the directory information is retrieved (from the directory auths or from directory mirrors).&lt;/p&gt;
&lt;p&gt;TorCoin as written has significant security issues. Because relay assignment is not based on bandwidth, it is easier for an adversary to get into the first and last position on a circuit and break anonymity. This can be done through a sybil attack by adding an arbitrary number of bad relays and joining them to the network without actually providing bandwidth. Because the protocol reveals  which ephemeral keys are attached to the assigned circuits, an adversary can confirm when it has compromised a circuit (has malicious nodes in the correct positions) without needing to do any statistical correlation attack (it can match up the ephemeral keys assigned to its malicious relays to the ones posted in the circuit assignment list). &lt;/p&gt;
&lt;p&gt;The formation of relay/client groups is not discussed and is similarly vulnerable to sybil attacks where the adversary can completely subvert the coin mining process. This can be done by registering an arbitrary number of relays and clients with the assignment servers, such that a large majority of circuits created by the assignment process will contain malicious relays in all positions and be assigned to a malicious client. This malicious collective of nodes can then “pretend” to send bytes through the circuit without actually doing so, and gain an advantage when mining coins. The paper suggests to use a persistent guard, which means the adversary only needs malicious relays in the middle and exit positions of its sybil client circuits, exponentially increasing the probability of a full compromise (or requiring far fewer nodes to achieve the same probability of compromise as without persistent guards). (The sybil clients only have to get 2 of its relays in the circuit instead of 3, reducing the probability from f^3 to f^2 for malicious fraction f.) Further, even if some relays on a circuit are honest, it is not rational for them to refuse to sign proofs of bandwidth that have been exaggerated (too high) by other relays. It will only benefit a relay to ignore proof-of-bandwidth checks, giving it an advantage over completely honest nodes in the TorCoin mining process.&lt;/p&gt;
&lt;p&gt;There are a variety of unaddressed practical deployment issues as well. It is not clear how to do load balancing with TorCoin alone - no one should be able to determine how many bytes were sent by any of the circuit members or where the payments for mined coins are being sent (anonymous TorCoin transactions are necessary for anonymity). Exit policies are not discussed, and there is no clear way to support them and for a client that would like to request a specific exit port. Its not clear how to ensure that a relay is not chosen for the same circuit twice, or two relays from the same relay family are not on the same circuit. Finally, it is not clear how to link ephemeral circuit keys to TorCoin addresses so that payments may be sent from clients to relays without revealing client identity.&lt;/p&gt;
&lt;p&gt;Don't misunderstand my ranting here - I think that the TorCoin idea is great (I am a co-author after all). It has the potential to motivate new researchers and developers to start thinking about solutions to problems that Tor is interested in, particularly bandwidth measurement. However, the limitations need to be clear so that we don't start seeing production systems using it and claiming to provide security without working through &lt;b&gt;*at least*&lt;/b&gt; the issues mentioned above. The current paper was an initial concept in its early stages, and I expect the system to improve significantly as it is furthered developed.&lt;/p&gt;
&lt;p&gt;(For completeness, we should also point out that TorCoin will need a new name if anybody decides to build it. The &lt;a href=&quot;https://www.torproject.org/docs/trademark-faq#researchpapers&quot;&gt;Tor trademark faq&lt;/a&gt; says it's fine for research paper designs to use the Tor mark, but if it becomes actual software then it sure will be confusing to users and the rest of the Tor community about whether it's written by or endorsed by Tor.)&lt;/p&gt;
&lt;p&gt;Note that TorCoin and TEARS are at least somewhat complementary, since TEARS &lt;b&gt;*needs*&lt;/b&gt; a proof-of-bandwidth scheme, and TorCoin &lt;b&gt;*provides*&lt;/b&gt; one. However, they’re also not directly compatible. TorCoin requires a substantial change to both Bitcoin and to Tor (or to put it another way, it would be a system that only partially resembles Bitcoin and only partially resembles Tor). On the other hand, TEARS leaves Tor's circuit-finding mechanism intact, and the token protocol in TEARS is closer to traditional anonymous e-cash systems than to Bitcoin.&lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;better_or_worse&quot; href=&quot;#better_or_worse&quot;&gt;For better or for worse?&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;As outlined above, recent research has made great improvements in the area of Tor incentives. More work is needed to show the feasibility and efficiency of the decentralized approaches, and a secure bandwidth measurement scheme would help fill a critical piece missing from TEARS. Recent improvements to the way Tor schedules sockets and circuits would be necessary to correctly provide traffic priority (see &lt;a href=&quot;https://trac.torproject.org/projects/tor/ticket/12541&quot;&gt;#12541&lt;/a&gt;), and then a differentiated services scheduler that is able to prioritize traffic by classes (already described in and prototyped for the BRAIDS, LIRA, and TEARS papers) would also be needed.&lt;/p&gt;
&lt;p&gt;Unfortunately, it is unclear how to make headway on the social issues. A small scale rollout of an &quot;experimental build&quot; to those relays who want to support new incentive features could be one way to test a new approach without committing to anything long term.&lt;/p&gt;
&lt;p&gt;One question that is often raised is: if an incentive scheme rewards relays for providing bandwidth, then won’t everyone just pick the same cheapest hosting provider and Tor will lose location diversity? This question is largely addressed in the discussion of what constitutes a useful service in the TEARS paper (the TEARS paper and appendices also gives useful commentary on many of the common problems and design decisions to make when designing an incentive scheme). Basically, it can be addressed in the monetary policy, e.g., in addition to rewarding relays for bandwidth, the bank could also assign weights that could be used to adjust the rewards based on certain flags that relays possess, or the geographic location in which they operate. This could be adjusted over time so that there would be a higher incentive to run relays in parts of the world where none exist, or to prefer exit relays over other positions, etc. Although, note that it is unclear exactly what the &quot;correct&quot; utility function should be and when/how it should be adjusted. Note that &lt;a href=&quot;https://www.torservers.net/&quot;&gt;Torservers.net&lt;/a&gt; similarly rewards relays for location diversity (&lt;a href=&quot;https://blog.torservers.net/20140610/reimbursement-report-2014-05.html&quot;&gt;see here&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Another point to make here is that most of these approaches have nothing to do with giving out or transferring real dollars. The tokens in most of these schemes are useful only to receive traffic priority in Tor. Will there be third party markets that form around the exchange of the tokens? Sure. And they may be speculated. But at the end of the day, the tokens would still only provide prioritized traffic. Depending on the configuration of the priority scheduler, the difference between priority traffic and normal traffic may not be that extreme. It is conceivable that the tokens would not be worth nearly enough to compensate an operator for the ISP connection, much less the overhead involved with updating the software, maintaining the machine, and talking with the ISP -- and in that case we are still on the more conservative side of the social incentive discussions above.&lt;/p&gt;
&lt;p&gt;Tor has some choices to make in terms of how to grow the network and how to position the community during that growth process. I hope that this post, and the research presented herein, will at least help the community understand some of the options that are available.&lt;/p&gt;
&lt;p&gt;All the best, ~&lt;a href=&quot;http://www.robgjansen.com&quot;&gt;Rob&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[Thanks to Roger Dingledine, Bryan Ford, Aaron Johnson, Andrew Miller, and Paul Syverson for input and feedback on this post.]&lt;/p&gt;</content><author><name>Rob G. Jansen</name><email>rob.g.jansen@nrl.navy.mil</email></author><category term="tor" /><category term="performance" /><category term="incentives" /><category term="bitcoin" /><summary>This post originally appeared on the TorProject blog summarizing the then-current state of research on Tor incentive schemes and related challenges. The post includes information about the new TorCoin and TEARS research papers that appeared at HotPETs later that week.</summary></entry><entry><title>paper accepted to USENIX Security 2014</title><link href="/blog/2014/05/27/paper-accepted-to-usenix-security-2014/" rel="alternate" type="text/html" title="paper accepted to USENIX Security 2014" /><published>2014-05-27T22:22:13-04:00</published><updated>2014-05-27T22:22:13-04:00</updated><id>/blog/2014/05/27/paper-accepted-to-usenix-security-2014</id><content type="html" xml:base="/blog/2014/05/27/paper-accepted-to-usenix-security-2014/">&lt;p&gt;Our paper entitled “&lt;a href=&quot;/publications/kist-sec2014.pdf&quot;&gt;Never Been KIST: Tor’s Congestion Management Blossoms with Kernel-Informed Socket Transport&lt;/a&gt;” has been &lt;del&gt;conditionally accepted upon shepherd approval&lt;/del&gt; accepted to USENIX Security 2014!&lt;/p&gt;</content><author><name>Rob G. Jansen</name><email>rob.g.jansen@nrl.navy.mil</email></author><category term="publication" /><summary>Our paper entitled “Never Been KIST: Tor’s Congestion Management Blossoms with Kernel-Informed Socket Transport” has been conditionally accepted upon shepherd approval accepted to USENIX Security 2014!</summary></entry><entry><title>papers accepted to HotPETs 2014</title><link href="/blog/2014/05/27/papers-accepted-to-hotpets-2014/" rel="alternate" type="text/html" title="papers accepted to HotPETs 2014" /><published>2014-05-27T22:16:10-04:00</published><updated>2014-05-27T22:16:10-04:00</updated><id>/blog/2014/05/27/papers-accepted-to-hotpets-2014</id><content type="html" xml:base="/blog/2014/05/27/papers-accepted-to-hotpets-2014/">&lt;p&gt;Two of our submissions about integrating BitCoin and Tor were accepted to HotPETs 2014!&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;/publications/tears-hotpets2014.pdf&quot;&gt;From Onions to Shallots: Rewarding Tor Relays with TEARS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/publications/torpath-hotpets2014.pdf&quot;&gt;A TorPath to TorCoin: Proof-of-Bandwidth Altcoins for Compensating Relays&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Rob G. Jansen</name><email>rob.g.jansen@nrl.navy.mil</email></author><category term="publication" /><summary>Two of our submissions about integrating BitCoin and Tor were accepted to HotPETs 2014!</summary></entry><entry><title>static site generator</title><link href="/blog/2014/04/21/static-site-generator/" rel="alternate" type="text/html" title="static site generator" /><published>2014-04-21T23:16:47-04:00</published><updated>2014-04-21T23:16:47-04:00</updated><id>/blog/2014/04/21/static-site-generator</id><content type="html" xml:base="/blog/2014/04/21/static-site-generator/">&lt;p&gt;My website is produced using the &lt;a href=&quot;http://octopress.org/&quot;&gt;Octopress&lt;/a&gt; blogging framework, a static site generator that turns &lt;a href=&quot;https://daringfireball.net/projects/markdown/&quot;&gt;markdown&lt;/a&gt; into html pages, and is backed by a git repository. I can write a new post by simply pushing a new markdown file to the repository. I recommend Octopress as it’s very convenient and nerd friendly!&lt;/p&gt;</content><author><name>robgjansen</name></author><summary>My website is produced using the Octopress blogging framework, a static site generator that turns markdown into html pages, and is backed by a git repository. I can write a new post by simply pushing a new markdown file to the repository. I recommend Octopress as it’s very convenient and nerd friendly!</summary></entry><entry><title>news feature now active</title><link href="/blog/2014/04/21/news-feature-now-active/" rel="alternate" type="text/html" title="news feature now active" /><published>2014-04-21T22:00:05-04:00</published><updated>2014-04-21T22:00:05-04:00</updated><id>/blog/2014/04/21/news-feature-now-active</id><content type="html" xml:base="/blog/2014/04/21/news-feature-now-active/">&lt;p&gt;I just changed the blogging feature into a news section, and plan to submit news items via this channel. Sweet.&lt;/p&gt;</content><author><name>Rob G. Jansen</name><email>rob.g.jansen@nrl.navy.mil</email></author><summary>I just changed the blogging feature into a news section, and plan to submit news items via this channel. Sweet.</summary></entry></feed>
